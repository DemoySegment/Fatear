[{"C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\index.js":"1","C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\App.js":"2","C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\reportWebVitals.js":"3","C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\components\\Header.js":"4","C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\common\\Theme.js":"5","C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\components\\Sider.js":"6","C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\common\\EventBus.js":"7","C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\services\\auth.service.js":"8","C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\components\\Login.js":"9","C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\components\\Register.js":"10","C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\services\\backendConfig.js":"11","C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\services\\homepageService.js":"12","C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\components\\Homepage.js":"13","C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\components\\SongBox.js":"14","C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\services\\friendpageService.js":"15","C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\services\\auth-header.js":"16","C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\services\\friendPageService.js":"17","C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\components\\FollowPage.js":"18","C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\services\\followPageService.js":"19","C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\components\\FriendPage.js":"20","C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\components\\SongPage.js":"21","C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\services\\songService.js":"22","C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\components\\NewsPage.js":"23","C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\services\\homePageService.js":"24","C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\components\\HomePage.js":"25","C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\services\\newsPageService.js":"26","C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\components\\SearchResultPage.js":"27","C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\services\\searchResultPageService.js":"28","C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\components\\ErrorSnackbar.js":"29"},{"size":682,"mtime":1683004792898,"results":"30","hashOfConfig":"31"},{"size":2474,"mtime":1683430929639,"results":"32","hashOfConfig":"31"},{"size":362,"mtime":1682180148330,"results":"33","hashOfConfig":"31"},{"size":8608,"mtime":1683471383405,"results":"34","hashOfConfig":"31"},{"size":147,"mtime":1682655166230,"results":"35","hashOfConfig":"31"},{"size":2043,"mtime":1683472621224,"results":"36","hashOfConfig":"31"},{"size":362,"mtime":1682648699712,"results":"37","hashOfConfig":"31"},{"size":1034,"mtime":1683157241595,"results":"38","hashOfConfig":"31"},{"size":4798,"mtime":1683206980065,"results":"39","hashOfConfig":"31"},{"size":6556,"mtime":1683088263306,"results":"40","hashOfConfig":"31"},{"size":65,"mtime":1683093119950,"results":"41","hashOfConfig":"31"},{"size":241,"mtime":1683144223396,"results":"42","hashOfConfig":"31"},{"size":1085,"mtime":1683322724603,"results":"43","hashOfConfig":"31"},{"size":789,"mtime":1683325760312,"results":"44","hashOfConfig":"31"},{"size":777,"mtime":1683224580412,"results":"45","hashOfConfig":"31"},{"size":218,"mtime":1683159273474,"results":"46","hashOfConfig":"31"},{"size":1565,"mtime":1683244080400,"results":"47","hashOfConfig":"31"},{"size":11579,"mtime":1683477228111,"results":"48","hashOfConfig":"31"},{"size":822,"mtime":1683259204788,"results":"49","hashOfConfig":"31"},{"size":17458,"mtime":1683263333209,"results":"50","hashOfConfig":"31"},{"size":13457,"mtime":1683477362307,"results":"51","hashOfConfig":"31"},{"size":1181,"mtime":1683318969666,"results":"52","hashOfConfig":"31"},{"size":8905,"mtime":1683477228088,"results":"53","hashOfConfig":"31"},{"size":241,"mtime":1683322724575,"results":"54","hashOfConfig":"31"},{"size":1644,"mtime":1683477228065,"results":"55","hashOfConfig":"31"},{"size":903,"mtime":1683323393906,"results":"56","hashOfConfig":"31"},{"size":3277,"mtime":1683477228121,"results":"57","hashOfConfig":"31"},{"size":411,"mtime":1683471469760,"results":"58","hashOfConfig":"31"},{"size":791,"mtime":1683476000317,"results":"59","hashOfConfig":"31"},{"filePath":"60","messages":"61","suppressedMessages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},"1eqso3n",{"filePath":"64","messages":"65","suppressedMessages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"67","messages":"68","suppressedMessages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"70","messages":"71","suppressedMessages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"73","messages":"74","suppressedMessages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"76","messages":"77","suppressedMessages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"79","messages":"80","suppressedMessages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"82","messages":"83","suppressedMessages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","suppressedMessages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"88","messages":"89","suppressedMessages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"91","messages":"92","suppressedMessages":"93","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"94","messages":"95","suppressedMessages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"97","messages":"98","suppressedMessages":"99","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"100","messages":"101","suppressedMessages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"103","messages":"104","suppressedMessages":"105","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"106","messages":"107","suppressedMessages":"108","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"109","messages":"110","suppressedMessages":"111","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"112","messages":"113","suppressedMessages":"114","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"115","usedDeprecatedRules":"116"},{"filePath":"117","messages":"118","suppressedMessages":"119","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"120","messages":"121","suppressedMessages":"122","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"123","messages":"124","suppressedMessages":"125","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"126","messages":"127","suppressedMessages":"128","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"129","messages":"130","suppressedMessages":"131","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"132","messages":"133","suppressedMessages":"134","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"135"},{"filePath":"136","messages":"137","suppressedMessages":"138","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"139","messages":"140","suppressedMessages":"141","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"142","messages":"143","suppressedMessages":"144","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"145","usedDeprecatedRules":"116"},{"filePath":"146","messages":"147","suppressedMessages":"148","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"149","messages":"150","suppressedMessages":"151","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\index.js",[],[],[],"C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\App.js",["152","153","154","155","156","157"],[],"C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\reportWebVitals.js",[],[],"C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\components\\Header.js",["158","159","160","161","162","163","164","165","166","167","168"],[],"C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\common\\Theme.js",[],[],"C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\components\\Sider.js",["169","170","171"],[],"C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\common\\EventBus.js",[],[],"C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\services\\auth.service.js",[],[],"C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\components\\Login.js",["172","173","174"],[],"C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\components\\Register.js",["175","176"],[],"C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\services\\backendConfig.js",[],[],"C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\services\\homepageService.js",[],[],"C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\components\\Homepage.js",["177","178","179"],[],"C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\components\\SongBox.js",[],[],"C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\services\\friendpageService.js",["180"],[],"C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\services\\auth-header.js",[],[],"C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\services\\friendPageService.js",[],[],"C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\components\\FollowPage.js",["181","182","183"],[],"import React, {useEffect, useRef, useState} from \"react\";\r\nimport friendPageService from \"../services/friendPageService\";\r\nimport {Accordion, Button, Card, Form, InputGroup, ListGroup, Table, Toast, ToastContainer} from \"react-bootstrap\";\r\nimport {\r\n    Alert,\r\n    Avatar,\r\n    Collapse,\r\n    Divider,\r\n    IconButton,\r\n    List,\r\n    ListItem,\r\n    ListItemAvatar,\r\n    ListItemText\r\n} from \"@mui/material\";\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport SentimentVerySatisfiedIcon from '@mui/icons-material/SentimentVerySatisfied';\r\nimport ListItemButton from '@mui/material/ListItemButton';\r\n\r\nimport * as PropTypes from \"prop-types\";\r\nimport followPageService from \"../services/followPageService\";\r\n\r\n\r\nCloseIcon.propTypes = {fontSize: PropTypes.string};\r\nexport default function FollowPage() {\r\n    const [showA, setShowA] = useState(false);\r\n\r\n\r\n    const [followers, setFollowers] = useState([]);\r\n    const [needUpdateFollower, setNeedUpdateFollower] = useState(false);\r\n\r\n\r\n    const [searchUser, setSearchUser] = useState(\"\");\r\n    const [searchResult, setSearchResult] = useState(undefined);\r\n    const [validated, setValidated] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const [message, setMessage] = useState(\"\");\r\n    const showSearchResult = searchResult && searchResult.length !== 0\r\n\r\n    const showFollowersTable = followers && followers.length !== 0;\r\n    const form = useRef();\r\n\r\n\r\n    useEffect(() => {\r\n        followPageService.getFollower().then(response => {\r\n            console.log(response.data.result)\r\n            setFollowers(response.data.result)\r\n\r\n        })\r\n            .catch(error => {\r\n                const resMessage =\r\n                    (error.response &&\r\n                        error.response.data &&\r\n                        error.response.data.error &&\r\n                        error.response.data.error.info) ||\r\n                    error.message ||\r\n                    error.toString();\r\n\r\n                setLoading(false);\r\n                setMessage(resMessage);\r\n            });\r\n\r\n    }, [needUpdateFollower]);\r\n\r\n    const toggleShowA = (state) => setShowA(state);\r\n\r\n\r\n    const onChangeUsername = (e) => {\r\n        const username = e.target.value;\r\n        setSearchUser(username);\r\n    };\r\n\r\n    const handleSearch = (e) => {\r\n        setSearchResult(undefined)\r\n        e.preventDefault();\r\n        setMessage(\"\");\r\n        setLoading(true);\r\n        if (form.current.checkValidity() === false) {\r\n            e.stopPropagation();\r\n            setLoading(false);\r\n            setValidated(true)\r\n            return\r\n        }\r\n        followPageService.searchUser(searchUser).then(response => {\r\n                console.log(response.data.result);\r\n                setLoading(false);\r\n                setSearchResult(response.data.result)\r\n            },\r\n            (error) => {\r\n                const resMessage =\r\n                    (error.response &&\r\n                        error.response.data &&\r\n                        error.response.data.error &&\r\n                        error.response.data.error.info) ||\r\n                    error.message ||\r\n                    error.toString();\r\n\r\n                setLoading(false);\r\n                setMessage(resMessage);\r\n            })\r\n    };\r\n\r\n    const handleNewRequest = (e, username, index) => {\r\n\r\n        setSearchResult(undefined)\r\n        e.preventDefault();\r\n        setMessage(\"\");\r\n        setLoading(true);\r\n\r\n        followPageService.newFollowRequest(username).then(response => {\r\n                console.log(response.data.result);\r\n                setLoading(false);\r\n                let tem = searchResult.slice();\r\n                tem.splice(index, 1);\r\n                setSearchResult(tem);\r\n\r\n                setNeedUpdateFollower(!needUpdateFollower)\r\n\r\n                toggleShowA(true)\r\n\r\n            },\r\n            (error) => {\r\n                const resMessage =\r\n                    (error.response &&\r\n                        error.response.data &&\r\n                        error.response.data.error &&\r\n                        error.response.data.error.info) ||\r\n                    error.message ||\r\n                    error.toString();\r\n\r\n                setLoading(false);\r\n                setMessage(resMessage);\r\n            })\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <h1> Follow</h1>\r\n            <Card border=\"light\" className=\"rounded-3\">\r\n                <ToastContainer className=\"p-3\" position=\"top-end\">\r\n                    <Toast show={showA} onClose={() => toggleShowA(false)} className=\"\" delay={3000} autohide>\r\n                        <Toast.Header>\r\n                            <strong className=\"me-auto\">Follow A New User</strong>\r\n                            <small>just now</small>\r\n                        </Toast.Header>\r\n                        <Toast.Body>Request finished!</Toast.Body>\r\n                    </Toast>\r\n                </ToastContainer>\r\n                <Card.Header as=\"h5\">Follow A New User</Card.Header>\r\n                <Card.Body className=\"d-flex flex-row justify-content-start overflow-auto\"\r\n                           style={{minHeight: 80, maxHeight: 500}}>\r\n                    <Form className=\"d-flex w-50 me-3\" ref={form} onSubmit={handleSearch} noValidate\r\n                          validated={validated}>\r\n                        <InputGroup hasValidation\r\n                                    style={{minWidth: \"150px\", maxWidth: \"250px\", height: \"30px\"}}>\r\n\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                placeholder=\"Please input a username\"\r\n                                aria-describedby=\"inputGroupPrepend\"\r\n                                className=\"me-2 ms-2\"\r\n                                required\r\n                                onChange={onChangeUsername}\r\n\r\n                            />\r\n                            <Form.Control.Feedback type=\"invalid\" className=\"  me-2 ms-5\">\r\n                                Please input a username!\r\n                            </Form.Control.Feedback>\r\n                        </InputGroup>\r\n                        <Button variant=\"outline-success\" type=\"submit\" disabled={loading}\r\n                                className=\"d-inline-block\"\r\n                                style={{height: \"40px\"}}>\r\n                            {loading ? (\r\n                                <span className=\"spinner-border spinner-border-sm\"></span>\r\n                            ) : \"Search\"}\r\n                        </Button>\r\n                        {message && (\r\n                            <div className=\"form-group\">\r\n                                <div className=\"alert alert-danger\" role=\"alert\">\r\n                                    {message}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </Form>\r\n                    {showSearchResult ?\r\n                        <Table striped bordered hover size=\"sm\" className=\"\">\r\n                            <thead>\r\n                            <tr>\r\n                                <th> #</th>\r\n                                <th>Username</th>\r\n                                <th>First Name</th>\r\n                                <th>Last Name</th>\r\n                                <th>Nick Name</th>\r\n\r\n                            </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            {\r\n                                showFollowersTable && searchResult.map((user, index) => (<tr key={user.username}>\r\n                                        <td>{index}</td>\r\n                                        <td>{user.username}</td>\r\n                                        <td>{user.fname}</td>\r\n                                        <td>{user.lname}</td>\r\n                                        <td>{user.nickname}</td>\r\n                                        <td className=\"d-flex justify-content-center\">\r\n                                            <Button variant=\"outline-danger\" className=\"p-1 m-1\"\r\n                                                    onClick={(e) => handleNewRequest(e, user.username, index)}\r\n                                                    disabled={loading}>Request</Button>\r\n                                        </td>\r\n                                    </tr>)\r\n                                )\r\n                            }\r\n\r\n\r\n                            </tbody>\r\n                        </Table> :\r\n\r\n                        <Collapse in={searchResult !== undefined}>\r\n                            <Alert\r\n                                variant=\"outlined\" severity=\"info\" color=\"error\"\r\n                                action={\r\n                                    <IconButton\r\n                                        aria-label=\"close\"\r\n                                        color=\"inherit\"\r\n                                        size=\"small\"\r\n                                        onClick={() => {\r\n                                            setSearchResult(undefined);\r\n                                        }}\r\n                                    >\r\n                                        <CloseIcon fontSize=\"inherit\"/>\r\n                                    </IconButton>\r\n                                }\r\n                                sx={{mb: 2}}\r\n                            >\r\n                                No Result\r\n                            </Alert>\r\n                        </Collapse>\r\n                    }\r\n                </Card.Body>\r\n            </Card>\r\n\r\n\r\n            <Card border=\"light\" className=\"rounded-3\">\r\n                <Card.Header as=\"h5\">Follower List</Card.Header>\r\n                <Card.Body className=\"overflow-auto\" style={{maxHeight: 500}}>\r\n                    {showFollowersTable ? <List\r\n                            sx={{bgcolor: 'background.paper'}}\r\n                            aria-label=\"contacts\"\r\n                        >\r\n                            {followers.map((follower, index) => {\r\n                                    return (\r\n                                        <div key={follower.follower}>\r\n                                            <ListItem>\r\n                                                <ListItemButton>\r\n                                                    <ListItemAvatar>\r\n                                                        <Avatar>\r\n                                                            <SentimentVerySatisfiedIcon/>\r\n                                                        </Avatar>\r\n                                                    </ListItemAvatar>\r\n                                                    <ListItemText primary={follower.follower}/>\r\n                                                </ListItemButton>\r\n\r\n                                            </ListItem>\r\n                                            <Divider variant=\"inset\" component=\"li\"/>\r\n                                        </div>\r\n\r\n                                    )\r\n                                }\r\n                            )}\r\n\r\n\r\n                        </List> :\r\n                        <Alert className=\"w-25\" variant=\"outlined\" severity=\"info\" color=\"info\">No follower yet. Try\r\n                            to\r\n                            follow someone!</Alert>\r\n                    }\r\n\r\n                </Card.Body>\r\n            </Card>\r\n\r\n\r\n        </>\r\n    )\r\n}",[],"C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\services\\followPageService.js",[],[],"C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\components\\FriendPage.js",["184","185"],[],"C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\components\\SongPage.js",["186","187","188","189"],[],"C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\services\\songService.js",[],[],"C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\components\\NewsPage.js",["190","191","192"],[],"C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\services\\homePageService.js",[],[],[],"C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\components\\HomePage.js",["193","194","195"],[],"C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\services\\newsPageService.js",[],[],"C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\components\\SearchResultPage.js",["196","197","198","199","200","201"],[],"import React, {useEffect, useState} from \"react\";\r\nimport homePageService from \"../services/homePageService\";\r\nimport AuthService from \"../services/auth.service\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport {Toast, ToastContainer, Button, Badge} from \"react-bootstrap\";\r\nimport SongBox from \"./SongBox\";\r\nimport searchResultPageService from \"../services/searchResultPageService\";\r\nimport {useLocation} from \"react-router\";\r\nimport {Alert} from \"@mui/material\";\r\nimport ErrorSnackbars from \"./ErrorSnackbar\";\r\n\r\nexport default function SearchResultPage() {\r\n    const [title, setTitle] = useState(\"\");\r\n    const [songs, setSongs] = useState([])\r\n    const [artist, setArtist] = useState(\"\")\r\n    const [genre, setGenre] = useState(\"\")\r\n    const [rating, setRating] = useState(\"\")\r\n    const [open, setOpen] = useState(false);\r\n    const [message, setMessage] = useState(\"\");\r\n\r\n    const {search} = useLocation();\r\n    const params = new URLSearchParams(search);\r\n\r\n\r\n    useEffect(() => {\r\n        setTitle(params.get(\"title\"))\r\n        setArtist(params.get(\"artist\"))\r\n        setGenre(params.get(\"genre\"))\r\n        setRating(params.get(\"rating\"))\r\n        console.log([params.get(\"title\"),params.get(\"artist\"), params.get(\"genre\"), params.get(\"rating\")])\r\n\r\n\r\n        searchResultPageService.searchSongs(params.get(\"title\"), params.get(\"artist\"), params.get(\"genre\"), params.get(\"rating\")).then(response => {\r\n            console.log(response.data.result)\r\n            setSongs(response.data.result)\r\n        })\r\n            .catch(e => {\r\n                console.log(e)\r\n                showError(e.message());\r\n            });\r\n\r\n\r\n    }, []);\r\n\r\n    const handleClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n\r\n        setOpen(false);\r\n    };\r\n    const showError = (message)=>{\r\n        setMessage(message);\r\n        setOpen(true);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Container>\r\n                <ErrorSnackbars handleClose={e=>handleClose(e,'')} message={message} open={open}></ErrorSnackbars>\r\n                <h1>Search Result</h1>\r\n                {title.length > 0 && <h4 className=\"d-inline-block me-2 ms-2\"><Badge bg=\"secondary\">Title: {title}</Badge></h4>}\r\n                {artist.length > 0 && <h4 className=\"d-inline-block me-2 ms-2\"><Badge bg=\"secondary\">Artist: {artist}</Badge></h4>}\r\n                {genre.length > 0 && <h4 className=\"d-inline-block me-2 ms-2\"><Badge bg=\"secondary\">Genre: {genre}</Badge></h4>}\r\n                {rating.length > 0 && <h4 className=\"d-inline-block me-2 ms-2\"><Badge bg=\"secondary\">Rating: > {rating}</Badge></h4>}\r\n                <h4 className=\" me-2 ms-4\">Total {songs.length} results</h4>\r\n                {\r\n                    songs.length > 0 ? <Container className=\"justify-content-around  d-flex flex-wrap gap-1\">\r\n                            {songs && songs.map(song => {\r\n                                return (<SongBox song={song} key={song.songID}></SongBox>)\r\n                            })}\r\n                        </Container> :\r\n                        <Alert className=\"w-25\" variant=\"outlined\" severity=\"info\" color=\"info\">Nothing to show </Alert>\r\n                }\r\n\r\n\r\n            </Container>\r\n        </>\r\n    )\r\n}","C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\services\\searchResultPageService.js",["202"],[],"C:\\nyu\\2023spring\\database\\fatear\\fatear\\src\\components\\ErrorSnackbar.js",["203","204"],[],{"ruleId":"205","severity":1,"message":"206","line":1,"column":8,"nodeType":"207","messageId":"208","endLine":1,"endColumn":12},{"ruleId":"205","severity":1,"message":"209","line":6,"column":8,"nodeType":"207","messageId":"208","endLine":6,"endColumn":23},{"ruleId":"205","severity":1,"message":"210","line":8,"column":8,"nodeType":"207","messageId":"208","endLine":8,"endColumn":16},{"ruleId":"205","severity":1,"message":"211","line":9,"column":24,"nodeType":"207","messageId":"208","endLine":9,"endColumn":28},{"ruleId":"205","severity":1,"message":"212","line":12,"column":8,"nodeType":"207","messageId":"208","endLine":12,"endColumn":17},{"ruleId":"205","severity":1,"message":"213","line":32,"column":11,"nodeType":"207","messageId":"208","endLine":32,"endColumn":17},{"ruleId":"205","severity":1,"message":"214","line":3,"column":9,"nodeType":"207","messageId":"208","endLine":3,"endColumn":18},{"ruleId":"205","severity":1,"message":"215","line":3,"column":28,"nodeType":"207","messageId":"208","endLine":3,"endColumn":41},{"ruleId":"205","severity":1,"message":"216","line":3,"column":54,"nodeType":"207","messageId":"208","endLine":3,"endColumn":65},{"ruleId":"205","severity":1,"message":"217","line":9,"column":9,"nodeType":"207","messageId":"208","endLine":9,"endColumn":15},{"ruleId":"205","severity":1,"message":"218","line":9,"column":17,"nodeType":"207","messageId":"208","endLine":9,"endColumn":22},{"ruleId":"205","severity":1,"message":"211","line":9,"column":24,"nodeType":"207","messageId":"208","endLine":9,"endColumn":28},{"ruleId":"205","severity":1,"message":"219","line":10,"column":9,"nodeType":"207","messageId":"208","endLine":10,"endColumn":18},{"ruleId":"205","severity":1,"message":"210","line":12,"column":8,"nodeType":"207","messageId":"208","endLine":12,"endColumn":16},{"ruleId":"205","severity":1,"message":"220","line":14,"column":8,"nodeType":"207","messageId":"208","endLine":14,"endColumn":23},{"ruleId":"205","severity":1,"message":"221","line":15,"column":8,"nodeType":"207","messageId":"208","endLine":15,"endColumn":26},{"ruleId":"205","severity":1,"message":"222","line":17,"column":8,"nodeType":"207","messageId":"208","endLine":17,"endColumn":13},{"ruleId":"205","severity":1,"message":"223","line":2,"column":8,"nodeType":"207","messageId":"208","endLine":2,"endColumn":23},{"ruleId":"205","severity":1,"message":"224","line":3,"column":8,"nodeType":"207","messageId":"208","endLine":3,"endColumn":20},{"ruleId":"205","severity":1,"message":"225","line":7,"column":8,"nodeType":"207","messageId":"208","endLine":7,"endColumn":18},{"ruleId":"205","severity":1,"message":"226","line":2,"column":22,"nodeType":"207","messageId":"208","endLine":2,"endColumn":30},{"ruleId":"205","severity":1,"message":"227","line":5,"column":8,"nodeType":"207","messageId":"208","endLine":5,"endColumn":19},{"ruleId":"205","severity":1,"message":"228","line":10,"column":7,"nodeType":"207","messageId":"208","endLine":10,"endColumn":15},{"ruleId":"205","severity":1,"message":"219","line":1,"column":17,"nodeType":"207","messageId":"208","endLine":1,"endColumn":26},{"ruleId":"205","severity":1,"message":"229","line":6,"column":10,"nodeType":"207","messageId":"208","endLine":6,"endColumn":17},{"ruleId":"205","severity":1,"message":"230","line":3,"column":8,"nodeType":"207","messageId":"208","endLine":3,"endColumn":19},{"ruleId":"205","severity":1,"message":"231","line":5,"column":9,"nodeType":"207","messageId":"208","endLine":5,"endColumn":14},{"ruleId":"205","severity":1,"message":"232","line":5,"column":16,"nodeType":"207","messageId":"208","endLine":5,"endColumn":30},{"ruleId":"205","severity":1,"message":"233","line":4,"column":8,"nodeType":"207","messageId":"208","endLine":4,"endColumn":14},{"ruleId":"205","severity":1,"message":"234","line":2,"column":8,"nodeType":"207","messageId":"208","endLine":2,"endColumn":25},{"ruleId":"205","severity":1,"message":"214","line":3,"column":9,"nodeType":"207","messageId":"208","endLine":3,"endColumn":18},{"ruleId":"205","severity":1,"message":"235","line":3,"column":52,"nodeType":"207","messageId":"208","endLine":3,"endColumn":61},{"ruleId":"205","severity":1,"message":"214","line":3,"column":9,"nodeType":"207","messageId":"208","endLine":3,"endColumn":18},{"ruleId":"205","severity":1,"message":"235","line":3,"column":52,"nodeType":"207","messageId":"208","endLine":3,"endColumn":61},{"ruleId":"205","severity":1,"message":"236","line":4,"column":8,"nodeType":"207","messageId":"208","endLine":4,"endColumn":25},{"ruleId":"205","severity":1,"message":"215","line":5,"column":23,"nodeType":"207","messageId":"208","endLine":5,"endColumn":36},{"ruleId":"205","severity":1,"message":"237","line":11,"column":13,"nodeType":"207","messageId":"208","endLine":11,"endColumn":20},{"ruleId":"238","severity":1,"message":"239","line":82,"column":8,"nodeType":"240","endLine":82,"endColumn":44,"suggestions":"241"},{"ruleId":"205","severity":1,"message":"230","line":3,"column":8,"nodeType":"207","messageId":"208","endLine":3,"endColumn":19},{"ruleId":"205","severity":1,"message":"231","line":5,"column":23,"nodeType":"207","messageId":"208","endLine":5,"endColumn":28},{"ruleId":"205","severity":1,"message":"232","line":5,"column":30,"nodeType":"207","messageId":"208","endLine":5,"endColumn":44},{"ruleId":"205","severity":1,"message":"230","line":3,"column":8,"nodeType":"207","messageId":"208","endLine":3,"endColumn":19},{"ruleId":"205","severity":1,"message":"231","line":5,"column":9,"nodeType":"207","messageId":"208","endLine":5,"endColumn":14},{"ruleId":"205","severity":1,"message":"232","line":5,"column":16,"nodeType":"207","messageId":"208","endLine":5,"endColumn":30},{"ruleId":"205","severity":1,"message":"209","line":2,"column":8,"nodeType":"207","messageId":"208","endLine":2,"endColumn":23},{"ruleId":"205","severity":1,"message":"230","line":3,"column":8,"nodeType":"207","messageId":"208","endLine":3,"endColumn":19},{"ruleId":"205","severity":1,"message":"231","line":5,"column":9,"nodeType":"207","messageId":"208","endLine":5,"endColumn":14},{"ruleId":"205","severity":1,"message":"232","line":5,"column":16,"nodeType":"207","messageId":"208","endLine":5,"endColumn":30},{"ruleId":"205","severity":1,"message":"242","line":5,"column":32,"nodeType":"207","messageId":"208","endLine":5,"endColumn":38},{"ruleId":"238","severity":1,"message":"243","line":37,"column":8,"nodeType":"240","endLine":37,"endColumn":10,"suggestions":"244"},{"ruleId":"205","severity":1,"message":"245","line":3,"column":8,"nodeType":"207","messageId":"208","endLine":3,"endColumn":18},{"ruleId":"205","severity":1,"message":"246","line":2,"column":8,"nodeType":"207","messageId":"208","endLine":2,"endColumn":13},{"ruleId":"205","severity":1,"message":"242","line":3,"column":8,"nodeType":"207","messageId":"208","endLine":3,"endColumn":14},"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'homePageService' is defined but never used.","'EventBus' is defined but never used.","'Link' is defined but never used.","'Container' is defined but never used.","'songId' is assigned a value but never used.","'Accordion' is defined but never used.","'FloatingLabel' is defined but never used.","'NavDropdown' is defined but never used.","'Routes' is defined but never used.","'Route' is defined but never used.","'useEffect' is defined but never used.","'SearchSharpIcon' is defined but never used.","'SearchOutlinedIcon' is defined but never used.","'Image' is defined but never used.","'PlaylistAddIcon' is defined but never used.","'FavoriteIcon' is defined but never used.","'PersonIcon' is defined but never used.","'Navigate' is defined but never used.","'CheckButton' is defined but never used.","'required' is assigned a value but never used.","'isEmail' is defined but never used.","'AuthService' is defined but never used.","'Toast' is defined but never used.","'ToastContainer' is defined but never used.","'config' is defined but never used.","'friendPageService' is defined but never used.","'ListGroup' is defined but never used.","'followPageService' is defined but never used.","'friends' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'songID'. Either include it or remove the dependency array.","ArrayExpression",["247"],"'Button' is defined but never used.","React Hook useEffect has a missing dependency: 'params'. Either include it or remove the dependency array.",["248"],"'authHeader' is defined but never used.","'Stack' is defined but never used.",{"desc":"249","fix":"250"},{"desc":"251","fix":"252"},"Update the dependencies array to be: [needUpdateReview, needUpdateRating, songID]",{"range":"253","text":"254"},"Update the dependencies array to be: [params]",{"range":"255","text":"256"},[3240,3276],"[needUpdateReview, needUpdateRating, songID]",[1474,1476],"[params]"]